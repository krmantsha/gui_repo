.\" Man page generated from reStructuredText.
.
.TH "SCMSSORT" "1" "Aug 22, 2023" "5.5.3" "SeisComP"
.SH NAME
scmssort \- SeisComP Documentation
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.sp
\fBRead and manipulate miniSEED records\fP
.SH DESCRIPTION
.sp
scmssort reads unsorted (and possibly multiplexed) MiniSEED files and sorts
the individual records by time. This is useful e.g. for simulating data
acquisition and playbacks. Removing of duplicate data and trimming of time
window is available.
.sp
scmssort reads single files and output to the command line. Cat many files
to read them at the same time. In this way huge amount of data can be processed
efficiently.
.sp
Applications to miniSEED records:
.INDENT 0.0
.IP \(bu 2
Sort records by time, e.g. for playbacks.
.IP \(bu 2
Remove duplicate records from files and clean waveform archives.
.IP \(bu 2
Filter data records, i.e. keep or remove them, based on
.INDENT 2.0
.IP \(bu 2
time windows,
.IP \(bu 2
stream lists where each line has the format NET.STA.LOC.CHA including regular
expressions. Such stream lists can be generated, e.g., using scinv\&.
.UNINDENT
.UNINDENT
.sp
\fBHINT:\fP
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
Combine with scart or msrtsimul to archive data or to make
playbacks with real\-time simulations.
.IP \(bu 2
Filter data by stream IDs using NSLC lists which can be generated using
scinv\&.
.UNINDENT
.UNINDENT
.UNINDENT
.SH EXAMPLES
.INDENT 0.0
.IP 1. 3
Read a single miniSEED data file. The records are sorted by endtime and
duplicates are removed.
.INDENT 3.0
.INDENT 3.5
.sp
.nf
.ft C
scmssort \-vuE unsorted.mseed > sorted.mseed
.ft P
.fi
.UNINDENT
.UNINDENT
.IP 2. 3
Read all files ending with ".mseed" at the same time. The data are trimmed
to a time window and duplicated or empty records are ignored.
.INDENT 3.0
.INDENT 3.5
.sp
.nf
.ft C
cat *.mseed | scmssort \-vuiE \-t \(aq2020\-03\-28 15:48~2020\-03\-28 16:18\(aq > sorted.mseed
.ft P
.fi
.UNINDENT
.UNINDENT
.IP 3. 3
Remove streams listed by stream code and sort records by end time. Also ignore
duplicated or empty records. Stream lists can be generated, e.g., by scinv\&.
.INDENT 3.0
.INDENT 3.5
.sp
.nf
.ft C
scmssort \-vuiE \-\-rm \-l stream\-list.txt test.mseed > sorted.mseed
.ft P
.fi
.UNINDENT
.UNINDENT
.IP 4. 3
Extract streams by time and stream code and sort records by end time. Also ignore
duplicated or empty records.
.INDENT 3.0
.INDENT 3.5
.sp
.nf
.ft C
echo CX.PB01..BH? | scmssort \-vuE \-t \(aq2007\-03\-28 15:48~2007\-03\-28 16:18\(aq \-l \- test.mseed > sorted.mseed
scmssort \-vuiE \-t \(aq2007\-03\-28 15:48~2007\-03\-28 16:18\(aq \-l stream\-list.txt test.mseed > sorted.mseed
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.SH COMMAND-LINE OPTIONS
.sp
\fBscmssort [options] input\fP
.SS Options
.INDENT 0.0
.TP
.B \-h, \-\-help
Show the command\-line help and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-E, \-\-sort\-by\-end\-time
Sort by end time.
.UNINDENT
.INDENT 0.0
.TP
.B \-i, \-\-ignore
Ignore all records which have no data samples.
.UNINDENT
.INDENT 0.0
.TP
.B \-l, \-\-list
File with streams to filter the records. One stream per
line. Instead of a file read the from stdin (\-). Line
format: NET.STA.LOC.CHA \- wildcards and regular expressions
are considered. Example: CX.*..BH? .
.sp
NSLC lists may be generated, e.g., using scinv.
.UNINDENT
.INDENT 0.0
.TP
.B \-o, \-\-output
Name of output file for miniSEED data (default is stdout).
.UNINDENT
.INDENT 0.0
.TP
.B \-r, \-\-rm
Remove all traces in stream list given by \-\-list
instead of keeping them.
.UNINDENT
.INDENT 0.0
.TP
.B \-t, \-\-time\-window
Specify time window (as one \-properly quoted\- string).
Times are of course UTC and separated by a tilde ~
.sp
Example:
.sp
\(aq2020\-03\-28 15:48~2020\-03\-28 16:18\(aq
.UNINDENT
.INDENT 0.0
.TP
.B \-u, \-\-uniqueness
Ensure uniqueness of output, i.e. skip duplicate records.
.UNINDENT
.INDENT 0.0
.TP
.B \-v, \-\-verbose
Run in verbose mode.
.UNINDENT
.SH AUTHOR
gempa GmbH, GFZ Potsdam
.SH COPYRIGHT
gempa GmbH, GFZ Potsdam
.\" Generated by docutils manpage writer.
.

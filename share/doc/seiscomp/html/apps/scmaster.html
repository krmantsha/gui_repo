<!DOCTYPE html>

<html >
  <head>
    <meta charset="utf-8" />
    <title>scmaster &#8212; SeisComP Release documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/seiscomp.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script type="text/javascript" src="../_static/seiscomp.js"></script>
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Processing" href="../toc/processing.html" />
    <link rel="prev" title="Messaging" href="../toc/messaging.html" /> 
  </head>
  <body>
    <div class="header">
      <div class="container">
        <div class="brand">
          <img class="logo" src="../_static/brands/seiscomp/text/white.svg"/>
           <!-- span class="title">SeisComP Release</span -->
          <span class="version">4.6.0</span>
        </div>
      </div>
    </div>
    <div class="nav">
      <div class="container">
        <div class="content"><a class="pull-right" id="sidebar-toggle">TOC</a>
          
    <div class="related" role="navigation" aria-label="related navigation">
      <ul>
        <li class="right">
          <a href="../genindex.html" title="General Index"
             accesskey="I">
            index
          </a>
        </li>
        <li class="right">
          <a href="../toc/processing.html" title="Processing"
             accesskey="N">
            next
          </a>
        </li>
        <li class="right">
          <a href="../toc/messaging.html" title="Messaging"
             accesskey="P">
            previous
          </a>
        </li>
        <li class="nav-item nav-item-0">
          <a href="../index.html">Home</a>
        </li>
        <li class="nav-item nav-item-1">
          <a href="../modules.html" >Modules</a>
        </li>
        <li class="nav-item nav-item-2">
          <a href="../toc/messaging.html" accesskey="U">Messaging</a>
        </li> 
      </ul>
    </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="fitted content" id="anchors-container">
        <div class="body" role="main">
          
  <div class="section" id="scmaster">
<span id="id1"></span><h1>scmaster<a class="headerlink" href="#scmaster" title="Permalink to this headline">¶</a></h1>
<p><strong>The messaging system</strong></p>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>scmaster is the implementation of the <a class="reference internal" href="../base/concepts/messaging.html#concepts-messaging"><span class="std std-ref">messaging</span></a>
mediator.</p>
</div>
<div class="section" id="configuration">
<span id="scmaster-configuration"></span><h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line"><code class="file docutils literal notranslate"><span class="pre">etc/defaults/global.cfg</span></code></div>
<div class="line"><code class="file docutils literal notranslate"><span class="pre">etc/defaults/scmaster.cfg</span></code></div>
<div class="line"><code class="file docutils literal notranslate"><span class="pre">etc/global.cfg</span></code></div>
<div class="line"><code class="file docutils literal notranslate"><span class="pre">etc/scmaster.cfg</span></code></div>
<div class="line"><code class="file docutils literal notranslate"><span class="pre">~/.seiscomp/global.cfg</span></code></div>
<div class="line"><code class="file docutils literal notranslate"><span class="pre">~/.seiscomp/scmaster.cfg</span></code></div>
</div>
<p>scmaster inherits <a class="reference internal" href="global.html#global-configuration"><span class="std std-ref">global options</span></a>.</p>
<dl class="confval">
<dt id="confval-defaultGroups">
<code class="sig-name descname">defaultGroups</code><a class="headerlink" href="#confval-defaultGroups" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>list:string</em></p>
<p>The default set of message groups for each queue. Only used
if a queues group list is unset (note: empty is not unset).
Default is <code class="docutils literal notranslate"><span class="pre">AMPLITUDE,</span> <span class="pre">PICK,</span> <span class="pre">LOCATION,</span> <span class="pre">MAGNITUDE,</span> <span class="pre">FOCMECH,</span> <span class="pre">EVENT,</span> <span class="pre">QC,</span> <span class="pre">PUBLICATION,</span> <span class="pre">GUI,</span> <span class="pre">INVENTORY,</span> <span class="pre">CONFIG,</span> <span class="pre">LOGGING,</span> <span class="pre">SERVICE_REQUEST,</span> <span class="pre">SERVICE_PROVIDE,</span> <span class="pre">STATUS_GROUP</span></code>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-queues">
<code class="sig-name descname">queues</code><a class="headerlink" href="#confval-queues" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>list:string</em></p>
<p>Enable messaging queues defined as profile in queues. The profile
names are the final queue names.
Default is <code class="docutils literal notranslate"><span class="pre">production,</span> <span class="pre">playback</span></code>.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>interface.*</strong>
<em>Control the messaging interface. The default protocol is</em>
<em>“scmp” but “scmps” (secure protocol) is</em>
<em>used when valid SSL certificate and key are configured.</em></p>
</div>
<dl class="confval">
<dt id="confval-interface.bind">
<code class="sig-name descname">interface.bind</code><a class="headerlink" href="#confval-interface.bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>ipbind</em></p>
<p>Local bind address and port of the messaging system.
0.0.0.0:18180 accepts connections from all clients, 127.0.0.1:18180
only from localhost.
Default is <code class="docutils literal notranslate"><span class="pre">0.0.0.0:18180</span></code>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-interface.acl">
<code class="sig-name descname">interface.acl</code><a class="headerlink" href="#confval-interface.acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>list:ipmask</em></p>
<p>The IP access control list for clients which are allowed
to connect to the interface.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-interface.socketPortReuse">
<code class="sig-name descname">interface.socketPortReuse</code><a class="headerlink" href="#confval-interface.socketPortReuse" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>boolean</em></p>
<p>SO_REUSEADDR socket option for the TCP listening socket.
Default is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>interface.ssl.*</strong>
<em>SSL encryption is used if key and certificate are configured.</em></p>
</div>
<dl class="confval">
<dt id="confval-interface.ssl.bind">
<code class="sig-name descname">interface.ssl.bind</code><a class="headerlink" href="#confval-interface.ssl.bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>ipbind</em></p>
<p>Additional local bind address and port of the messaging system
in case SSL encryption is active.
Default is <code class="docutils literal notranslate"><span class="pre">0.0.0.0:-1</span></code>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-interface.ssl.acl">
<code class="sig-name descname">interface.ssl.acl</code><a class="headerlink" href="#confval-interface.ssl.acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>list:ipmask</em></p>
<p>The IP access control list for clients which are allowed
to connect to the interface.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-interface.ssl.socketPortReuse">
<code class="sig-name descname">interface.ssl.socketPortReuse</code><a class="headerlink" href="#confval-interface.ssl.socketPortReuse" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>boolean</em></p>
<p>SO_REUSEADDR socket option for the TCP listening socket.
Default is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-interface.ssl.key">
<code class="sig-name descname">interface.ssl.key</code><a class="headerlink" href="#confval-interface.ssl.key" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>path</em></p>
</dd></dl>

<dl class="confval">
<dt id="confval-interface.ssl.certificate">
<code class="sig-name descname">interface.ssl.certificate</code><a class="headerlink" href="#confval-interface.ssl.certificate" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>path</em></p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>queues.*</strong>
<em>Set the parameters for each messaging queue. The queues are used</em>
<em>when listed in the :confval:`queues` parameter. Several queues</em>
<em>can be used in parallel. For queues with without databases leave</em>
<em>the processor parameters empty.</em></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>queues.$name.*</strong>
$name is a placeholder for the name to be used.</p>
</div>
<dl class="confval">
<dt id="confval-queues.$name.groups">
<code class="sig-name descname">queues.$name.groups</code><a class="headerlink" href="#confval-queues.$name.groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>list:string</em></p>
<p>Define the list of message groups added to the queue. If unset
then the defaultGroups will be used. A queue will always
add the default group “STATUS_GROUP”. This
parameter overrides defaultGroups.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-queues.$name.acl">
<code class="sig-name descname">queues.$name.acl</code><a class="headerlink" href="#confval-queues.$name.acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>list:ipmask</em></p>
<p>The IP access control list for clients which are allowed
to join the queue.
Default is <code class="docutils literal notranslate"><span class="pre">0.0.0.0/0</span></code>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-queues.$name.maximumPayloadSize">
<code class="sig-name descname">queues.$name.maximumPayloadSize</code><a class="headerlink" href="#confval-queues.$name.maximumPayloadSize" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>int</em></p>
<p>Unit: <em>B</em></p>
<p>The maximum size in bytes of a message to be accepted.
Clients which send larger messages will be disconnected.
The default is 1MB.
Default is <code class="docutils literal notranslate"><span class="pre">1048576</span></code>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-queues.$name.plugins">
<code class="sig-name descname">queues.$name.plugins</code><a class="headerlink" href="#confval-queues.$name.plugins" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>list:string</em></p>
<p>List of plugins required by this queue. This is just a
convenience parameter to improve configurations
readability. The plugins can also be added to the
global list of module plugins.</p>
<p>Example: dbstore</p>
</dd></dl>

<dl class="confval">
<dt id="confval-queues.$name.processors.messages">
<code class="sig-name descname">queues.$name.processors.messages</code><a class="headerlink" href="#confval-queues.$name.processors.messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>string</em></p>
<p>Interface name. For now, use “dbstore” to
use a database.</p>
<p>Use empty for testing or playbacks without a database.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>queues.$name.processors.messages.dbstore.*</strong>
<em>Define the database connection parameters.</em></p>
</div>
<dl class="confval">
<dt id="confval-queues.$name.processors.messages.dbstore.driver">
<code class="sig-name descname">queues.$name.processors.messages.dbstore.driver</code><a class="headerlink" href="#confval-queues.$name.processors.messages.dbstore.driver" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>string</em></p>
<p>Selected the database driver to use. Database drivers are
available through plugins. The default plugin is dbmysql
which supports the MYSQL database server. It is activated
with the core.plugins parameter.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-queues.$name.processors.messages.dbstore.read">
<code class="sig-name descname">queues.$name.processors.messages.dbstore.read</code><a class="headerlink" href="#confval-queues.$name.processors.messages.dbstore.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>string</em></p>
<p>Sets the database read connection which is reported to clients
that connect to this server. If a remote setup should be
implemented, ensure that the hostname is reachable from
the remote computer.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-queues.$name.processors.messages.dbstore.write">
<code class="sig-name descname">queues.$name.processors.messages.dbstore.write</code><a class="headerlink" href="#confval-queues.$name.processors.messages.dbstore.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>string</em></p>
<p>Sets the database write connection which is private to
scmaster. A separate write connection enables different
permissions on the database level for scmaster and
clients.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-queues.$name.processors.messages.dbstore.strictVersionCheck">
<code class="sig-name descname">queues.$name.processors.messages.dbstore.strictVersionCheck</code><a class="headerlink" href="#confval-queues.$name.processors.messages.dbstore.strictVersionCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>boolean</em></p>
<p>If enabled, the plugin will check the database schema version and refuse to start
if the version doesn’t match the latest version. If disabled and the an object
needs to be stored which is incompatible with the database schema this object is
lost. Leave this option enabled unless you know exactly what are you doing and what
the consequences are.
Default is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-http.filebase">
<code class="sig-name descname">http.filebase</code><a class="headerlink" href="#confval-http.filebase" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>path</em></p>
<p>The directory served by the http server at staticPath.
Default is <code class="docutils literal notranslate"><span class="pre">&#64;DATADIR&#64;/scmaster/http/</span></code>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-http.staticPath">
<code class="sig-name descname">http.staticPath</code><a class="headerlink" href="#confval-http.staticPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>string</em></p>
<p>The URL path at which html files and assets are available.
All files under filebase will be served at this URL path.
Default is <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-http.brokerPath">
<code class="sig-name descname">http.brokerPath</code><a class="headerlink" href="#confval-http.brokerPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>string</em></p>
<p>The URL path at which the broker websocket is available.
Default is <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p>
</dd></dl>

</div>
</div>


          <div id="anchors-bottom"></div>
        </div>
        
      <div class="sidebar" role="navigation" aria-label="main navigation">
        <div id="anchors-top"></div>
        <div id="anchors" class="content">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">scmaster</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../toc/messaging.html"
                        title="previous chapter">Messaging</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../toc/processing.html"
                        title="next chapter">Processing</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/apps/scmaster.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      </div>
    </div>
    <div class="footer">
      <div class="container">
        <div class="horizontal layout content">
        <a class="fade-in" href="https://www.gempa.de" target="_blank">
          <img class="brand" src="../_static/brands/gempa.svg"/>
        </a>
        <div class="stretched align-center fitted content">
          <div>
		  Version <b>4.6.0</b> Release
          </div>
            <div class="copyright">
              Copyright &copy; gempa GmbH, GFZ Potsdam.
            </div>
        </div>
        <a class="fade-in" href="https://www.gfz-potsdam.de" target="_blank">
          <img class="brand" src="../_static/brands/gfz.svg"/>
        </a>
        </div>
      </div>
    </div>
  </body>
</html>
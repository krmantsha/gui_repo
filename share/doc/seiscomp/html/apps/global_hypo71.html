<!DOCTYPE html>

<html  lang="en">
  <head>
    <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Hypo71 &#8212; SeisComP Release documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/seiscomp.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=72bcf2f2" />
    <link rel="stylesheet" type="text/css" href="../_static/seiscomp.css?v=c6da7ce6" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <script type="text/javascript" src="../_static/seiscomp.js"></script>
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=823bb831"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Md" href="global_md.html" />
    <link rel="prev" title="MLh" href="global_mlh.html" /> 
  </head>
  <body>
    <div class="header">
      <div class="container">
        <div class="brand">
          <img class="logo" src="../_static/brands/seiscomp/text/white.svg"/>
           <!-- span class="title">SeisComP Release</span -->
          <span class="version">5.5.11</span>
        </div>
      </div>
    </div>
    <div class="nav">
      <div class="container">
        <div class="content"><a class="pull-right" id="sidebar-toggle">TOC</a>
          
    <div class="related" role="navigation" aria-label="related navigation">
      <ul>
        <li class="right">
          <a href="../genindex.html" title="General Index"
             accesskey="I">
            index
          </a>
        </li>
        <li class="right">
          <a href="global_md.html" title="Md"
             accesskey="N">
            next
          </a>
        </li>
        <li class="right">
          <a href="global_mlh.html" title="MLh"
             accesskey="P">
            previous
          </a>
        </li>
        <li class="nav-item nav-item-0">
          <a href="../index.html">Home</a>
        </li>
        <li class="nav-item nav-item-1">
          <a href="../toc/extensions.html" >Extensions</a>
        </li>
        <li class="nav-item nav-item-2">
          <a href="../toc/extensions/global.html" accesskey="U">global</a>
        </li> 
      </ul>
    </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="fitted content" id="anchors-container">
        <div class="body" role="main">
          
  <section id="hypo71">
<span id="global-hypo71"></span><h1>Hypo71<a class="headerlink" href="#hypo71" title="Permalink to this heading">¶</a></h1>
<p>The traditional Hypo71PC locator with SeisComP.</p>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>The Hypo71 locator algorithm by Fred Klein locator (<span id="id1">Lee and Lahr [<a class="reference internal" href="../base/references.html#id51" title="W.H. Lee and J.C. Lahr. Hypo71 (revised): a computer program for determining local earthquake hypocentral parameters, magnitude, and first motion pattern of local earthquakes. US Geol. Survey Open-file Report 75-311, 1975. URL: https://pubs.er.usgs.gov/publication/ofr75311, doi:10.3133/ofr75311.">48</a>]</span>) has
been implemented into <cite>SeisComP</cite> through the plugin mechanism. The plugin <em>hypo71</em>
contains the LocatorInterface implementation for Hypo71.
This plugin uses a slightly modified Hypo71 version from Alexandre Nercessian (IPGP)
which allows negative earthquake depth (above sea level) and negative stations
altitude (below sea level - OBS).</p>
<p>The development of this plugin was co-financed by the European Union and
<a class="reference external" href="http://www.developpement-durable.gouv.fr">le Ministère de l’Ecologie, du Développement Durable, des Transports et du Logement</a>
and developed by <span id="id2"><em>OVSM, Interreg Caraibes</em> [<a class="reference internal" href="../base/references.html#id173" title="OVSM, Interreg Caraibes. URL: https://www.interreg-caraibes.com.">17</a>]</span> / <span id="id3"><em>IPGP</em> [<a class="reference internal" href="../base/references.html#id138" title="IPGP. URL: http://www.ipgp.fr.">11</a>]</span>.</p>
</section>
<section id="how-it-works">
<h2>How it works<a class="headerlink" href="#how-it-works" title="Permalink to this heading">¶</a></h2>
<p>When receiving a list of arrivals to locate, the plugin builds a Hypo71 input
file with informations from the station inventory and configured profile.
It then runs Hypo71, reads the output file and sends the results (location,
uncertainties, RMS, pick residuals …) to <cite>SeisComP</cite>.</p>
<p>If several trial depths are configured, the plugin will run as many Hypo71
rushes as configured depths.
Then all the results are read, and a decision is made on the best one, based on
location RMS and uncertainty.
A final run is then made with the best result depth as trial depth.</p>
</section>
<section id="profiles">
<h2>Profiles<a class="headerlink" href="#profiles" title="Permalink to this heading">¶</a></h2>
<p>The plugin allows the user to set up as many profiles as needed.
A profile contains all the information relative to the velocity model and
Hypo71 iteration parameters.</p>
<p>This allows the user to tune the behaviour of Hypo71 to what he needs.
If no profiles are set-up, the plugin will use default Hypo71 profile, according
to example shown in Hypo71 first publication.
Some of this default Hypo71 parameters have been altered to allow more and finer
iteration, since computer power is now far above what was available in the 1970’s.</p>
</section>
<section id="error-measures">
<h2>Error measures<a class="headerlink" href="#error-measures" title="Permalink to this heading">¶</a></h2>
<p>After running Hypo71, the output is converted into a <cite>SeisComP</cite> origin (<a class="reference internal" href="../base/glossary.html#term-SCML"><span class="xref std std-term">SCML</span></a>)
object including some error measures. The following table shows how
the Hypo71 error measures are mapped to the <cite>SeisComP</cite> data model:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><cite>SeisComP</cite></p></th>
<th class="head"><p>Hypo71</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Origin.latitude.uncertainty</p></td>
<td><p>ERH/sqrt(2)</p></td>
</tr>
<tr class="row-odd"><td><p>Origin.longitude.uncertainty</p></td>
<td><p>ERH/sqrt(2)</p></td>
</tr>
<tr class="row-even"><td><p>Origin.depth.uncertainty</p></td>
<td><p>ERZ</p></td>
</tr>
<tr class="row-odd"><td><p>Origin.originQuality.standardError</p></td>
<td><p>_</p></td>
</tr>
<tr class="row-even"><td><p>Origin.originQuality.secondaryAzimuthalGap</p></td>
<td><p>_</p></td>
</tr>
<tr class="row-odd"><td><p>Origin.originQuality.usedStationCount</p></td>
<td><p>usedStationCount</p></td>
</tr>
<tr class="row-even"><td><p>Origin.originQuality.associatedStationCount</p></td>
<td><p>associatedStationCount</p></td>
</tr>
<tr class="row-odd"><td><p>Origin.originQuality.associatedPhaseCount</p></td>
<td><p>associatedPhaseCount</p></td>
</tr>
<tr class="row-even"><td><p>Origin.originQuality.usedPhaseCount</p></td>
<td><p>associatedPhaseCount</p></td>
</tr>
<tr class="row-odd"><td><p>Origin.originQuality.depthPhaseCount</p></td>
<td><p>depthPhaseCount</p></td>
</tr>
<tr class="row-even"><td><p>Origin.originQuality.minimumDistance</p></td>
<td><p>km2deg(Tdist.front)</p></td>
</tr>
<tr class="row-odd"><td><p>Origin.originQuality.maximumDistance</p></td>
<td><p>km2deg(Tdist.back)</p></td>
</tr>
<tr class="row-even"><td><p>Origin.originQuality.medianDistance</p></td>
<td><p>km2deg(~Tdist)</p></td>
</tr>
<tr class="row-odd"><td><p>Origin.originQuality.groundTruthLevel</p></td>
<td><p>QUALITY</p></td>
</tr>
<tr class="row-even"><td><p>Origin.originUncertainty.horizontalUncertainty</p></td>
<td><p>_</p></td>
</tr>
<tr class="row-odd"><td><p>Origin.originUncertainty.minHorizontalUncertainty</p></td>
<td><p>_</p></td>
</tr>
<tr class="row-even"><td><p>Origin.originUncertainty.maxHorizontalUncertainty</p></td>
<td><p>_</p></td>
</tr>
<tr class="row-odd"><td><p>Origin.originUncertainty.azimuthMaxHorizontalUncertainty</p></td>
<td><p>_</p></td>
</tr>
<tr class="row-even"><td><p>ConfidenceEllipsoid.semiMajorAxisLength</p></td>
<td><p>_</p></td>
</tr>
<tr class="row-odd"><td><p>ConfidenceEllipsoid.semiMinorAxisLength</p></td>
<td><p>_</p></td>
</tr>
<tr class="row-even"><td><p>ConfidenceEllipsoid.semiIntermediateAxisLength</p></td>
<td><p>_</p></td>
</tr>
<tr class="row-odd"><td><p>ConfidenceEllipsoid.majorAxisPlunge</p></td>
<td><p>_</p></td>
</tr>
<tr class="row-even"><td><p>ConfidenceEllipsoid.majorAxisAzimuth</p></td>
<td><p>_</p></td>
</tr>
<tr class="row-odd"><td><p>ConfidenceEllipsoid.majorAxisRotation</p></td>
<td><p>_</p></td>
</tr>
</tbody>
</table>
</section>
<section id="plugin">
<h2>Plugin<a class="headerlink" href="#plugin" title="Permalink to this heading">¶</a></h2>
<p>The <em>hypo71</em> plugin is installed under <code class="file docutils literal notranslate"><span class="pre">share/plugins/hypo71.so</span></code>.
It provides a new implementation of the LocatorInterface with the name Hypo71.</p>
<p>To add the plugin to a module add it to the modules configuration, either
<code class="file docutils literal notranslate"><span class="pre">modulename.cfg</span></code> or <code class="file docutils literal notranslate"><span class="pre">global.cfg</span></code>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">plugins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="si">${</span><span class="nv">plugins</span><span class="si">}</span>,<span class="w"> </span>hypo71
</pre></div>
</div>
<p>Basically it can be used by two <cite>SeisComP</cite> modules: <a class="reference internal" href="screloc.html#screloc"><span class="std std-ref">screloc</span></a> and <a class="reference internal" href="scolv.html#scolv"><span class="std std-ref">scolv</span></a>.</p>
</section>
<section id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this heading">¶</a></h2>
<p>All output is stored in the configured <code class="xref std std-confval docutils literal notranslate"><span class="pre">HYPO71ROOT</span></code>.</p>
<p>The following file are stored:</p>
<ul class="simple">
<li><p>Input file (input)</p></li>
<li><p>Input configuration (.INP)</p></li>
<li><p>Hypo71 location header (.OUT)</p></li>
<li><p>Hypo71 location results (.PRT)</p></li>
<li><p>Hypo71 ZTR evalutation log (.LOG)</p></li>
</ul>
<p>In addition to the native Hypo71 outp ut a <cite>SeisComP</cite> origin object is created and
returned to the calling instance. Usually this object is then sent via messaging.</p>
<p>In addition, the stdout output of the locator is redirected to <cite>SeisComP</cite> output at
INFO level. Each line is identified by leading “Hypo71PC:”, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">12</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">25</span> <span class="p">[</span><span class="n">info</span><span class="p">]</span> <span class="n">Hypo71PC</span><span class="p">:</span>  <span class="n">Date</span>   <span class="n">Heure</span> <span class="n">Minute</span> <span class="n">Seconde</span>
<span class="mi">12</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">25</span> <span class="p">[</span><span class="n">info</span><span class="p">]</span> <span class="n">Hypo71PC</span><span class="p">:</span>  <span class="mi">90113</span>    <span class="mi">22</span>    <span class="mi">48</span>     <span class="mf">3.78</span>                                <span class="n">Nb</span> <span class="n">Iterations</span> <span class="p">:</span>  <span class="mi">3</span>
</pre></div>
</div>
<p>To view this output on the command line add <em>–debug</em> to your application when executing on
the command line. Increasing logging level of the module which executes the plugin
allows to read the output in the log file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">loggging</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="mi">3</span>
</pre></div>
</div>
</section>
<section id="configuration-example">
<h2>Configuration example<a class="headerlink" href="#configuration-example" title="Permalink to this heading">¶</a></h2>
<p>To add the plugin to an application such as scolv or screloc, add the plugin
name to the list of plugins that are loaded (e.g. <code class="file docutils literal notranslate"><span class="pre">scolv.cfg</span></code>):</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">plugins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="si">${</span><span class="nv">plugins</span><span class="si">}</span>,<span class="w"> </span>hypo71
</pre></div>
</div>
<p>Futhermore add the plugin configuration (e.g. <code class="file docutils literal notranslate"><span class="pre">scolv.cfg</span></code>):</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1">########################################################</span>
<span class="c1">############# Hypo71 plugin configuration ##############</span>
<span class="c1">########################################################</span>

<span class="c1"># Hypo71 input file to process (generated by plugin)</span>
hypo71.inputFile<span class="w"> </span><span class="o">=</span><span class="w"> </span>@DATADIR@/hypo71/HYPO71.INP

<span class="c1"># Hypo71 log file to store ZTR calculation and final results</span>
hypo71.logFile<span class="w"> </span><span class="o">=</span><span class="w"> </span>@LOGDIR@/HYPO71.LOG

<span class="c1"># Hypo71 output file to read results from (generated by binary)</span>
hypo71.outputFile<span class="w"> </span><span class="o">=</span><span class="w"> </span>@DATADIR@/hypo71/HYPO71.PRT

<span class="c1"># Hypo71 script called by plugin</span>
hypo71.hypo71ScriptFile<span class="w"> </span><span class="o">=</span><span class="w"> </span>@DATADIR@/hypo71/run.sh

<span class="c1"># Hypo71 default profile</span>
hypo71.defaultControlFile<span class="w"> </span><span class="o">=</span><span class="w"> </span>@DATADIR@/hypo71/profiles/default.hypo71.conf

<span class="c1"># Hypo71 origin patternID</span>
hypo71.publicID<span class="w"> </span><span class="o">=</span><span class="w"> </span>Hypo71.@time/%Y%m%d%H%M%S.%f@.@id@

<span class="c1"># Should we use the custom patternID ?</span>
hypo71.useHypo71PatternID<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>

<span class="c1"># Hypo71 custom profiles examples</span>
hypo71.profiles<span class="w"> </span><span class="o">=</span><span class="w"> </span>ModelA
hypo71.profile.ModelA.earthModelID<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;My Velocity Model A&quot;</span>
hypo71.profile.ModelA.methodID<span class="w"> </span><span class="o">=</span><span class="w"> </span>Hypo71PC
hypo71.profile.ModelA.controlFile<span class="w"> </span><span class="o">=</span><span class="w"> </span>@DATADIR@/hypo71/profiles/profile.a.conf
</pre></div>
</div>
<p>Verify that everything is properly set up in the script <code class="file docutils literal notranslate"><span class="pre">&#64;DATADIR&#64;/hypo71/run.sh</span></code></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="nv">HYPO71PC_BINARY</span><span class="o">=</span>Hypo71PC
<span class="nv">HYPO71PC_HOME</span><span class="o">=</span><span class="sb">`</span>dirname<span class="w"> </span><span class="nv">$0</span><span class="sb">`</span>

<span class="c1"># Jumping into the right directory</span>
<span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">HYPO71PC_HOME</span><span class="si">}</span>/

<span class="c1"># Executing binary with input file as argument</span>
<span class="si">${</span><span class="nv">SEISCOMP_ROOT</span><span class="si">}</span>/bin/<span class="nv">$HYPO71PC_BINARY</span><span class="w"> </span>&lt;<span class="w"> </span>input
</pre></div>
</div>
<p>Verify that everything is properly set up in the file <code class="file docutils literal notranslate"><span class="pre">$</span><em><span class="pre">SEISCOMP_ROOT</span></em><span class="pre">/share/hypo71/input</span></code></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>HYPO71.INP
HYPO71.PRT
HYPO71.OUT
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>There must be 3 blank lines at the end of the <code class="file docutils literal notranslate"><span class="pre">input</span></code> file, those are not to be removed.</p>
</div>
<p>Finally set-up your Hypo71 profile (e.g. <code class="file docutils literal notranslate"><span class="pre">$</span><em><span class="pre">SEISCOMP_ROOT</span></em><span class="pre">/share/hypo71/profiles/profile.a.conf</span></code>)</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1">############################################################</span>
<span class="c1">##             HYPO71 SeisComP Plugin                     ##</span>
<span class="c1">##                                          @OVSM-IPGP    ##</span>
<span class="c1">##                                                        ##</span>
<span class="c1">############################################################</span>

<span class="c1">## This profile is based on Dorel velocity model for French Antilles</span>
<span class="c1">## It allows several iterations at different starting depth for deep and crustal earthquakes</span>

<span class="c1">##############</span>
<span class="c1"># Reset List #</span>
<span class="c1">##############</span>
TEST<span class="o">(</span><span class="m">01</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>.1<span class="w">    </span><span class="c1"># sec # cutoff RMS value under which Jeffrey&#39;s weghting of residuals is not used</span>
TEST<span class="o">(</span><span class="m">02</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">50</span>.<span class="w">   </span><span class="c1"># km  #</span>
TEST<span class="o">(</span><span class="m">03</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.2<span class="w">    </span><span class="c1"># critical F-value for the stepwise multiple regression</span>
TEST<span class="o">(</span><span class="m">04</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>.01<span class="w">   </span><span class="c1"># km # adjustment value under which Geiger&#39;s iteration is terminated</span>
TEST<span class="o">(</span><span class="m">05</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>.<span class="w">    </span><span class="c1"># km # focal-depth value above which DZ is rest to DZ / (K+1)</span>
TEST<span class="o">(</span><span class="m">06</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span>.<span class="w">    </span><span class="c1"># regression TEST(03)/TEST(06) coefficient value if no significant variable is found in the stepwise multiple regression</span>
TEST<span class="o">(</span><span class="m">10</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span>.<span class="w">  </span><span class="c1"># km # coefficient value J = D/TEST(10) used for resetting DX and DY</span>
TEST<span class="o">(</span><span class="m">11</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">999</span>.<span class="w">    </span><span class="c1"># maximum number of iterations in the hypocentral adjustment</span>
TEST<span class="o">(</span><span class="m">12</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>.5<span class="w">    </span><span class="c1"># coefficient value DZ = -Z*TEST(12) used for resetting DZ when hypocenter is placed in the air</span>
TEST<span class="o">(</span><span class="m">13</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>.<span class="w">    </span><span class="c1"># km # standard error value of hypocentral optionally calculated RMS</span>

<span class="c1">## The following values are only available with the Hypo71PC version modified by Alexandre Nercessian (IPGP) which is included with this plugin</span>
TEST<span class="o">(</span><span class="m">15</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>-2.<span class="w">   </span><span class="c1"># km # maximum altitude of earthquake in km (down is positive)</span>
TEST<span class="o">(</span><span class="m">20</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>.<span class="w">    </span><span class="c1"># used altitude = read altitude * TEST(20) - for example, -2500 = -250 * 10</span>


<span class="c1">######################</span>
<span class="c1"># Crustal Model List #</span>
<span class="c1">######################</span>
<span class="nv">CRUSTAL_VELOCITY_MODEL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span>.50,<span class="w"> </span><span class="m">6</span>.00,<span class="w"> </span><span class="m">7</span>.00,<span class="w"> </span><span class="m">8</span>.00
<span class="nv">CRUSTAL_DEPTH_MODEL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.00,<span class="w"> </span><span class="m">3</span>.00,<span class="w"> </span><span class="m">15</span>.00,<span class="w"> </span><span class="m">30</span>.00


<span class="c1">################</span>
<span class="c1"># Control Card #</span>
<span class="c1">################</span>
<span class="c1"># MANDATORY</span>
<span class="nv">ZTR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>,<span class="w"> </span><span class="m">20</span>,<span class="w"> </span><span class="m">40</span>,<span class="w"> </span><span class="m">60</span>,<span class="w"> </span><span class="m">80</span>,<span class="w"> </span><span class="m">100</span>,<span class="w"> </span><span class="m">150</span>,<span class="w"> </span><span class="m">200</span><span class="w">   </span><span class="c1"># km # trial focus depth, at least two</span>
<span class="c1"># MANDATORY</span>
<span class="nv">XNEAR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">200</span>.<span class="w"> </span><span class="c1"># km # distance from epicenter up to which the distance weighting is 1</span>
<span class="c1"># MANDATORY</span>
<span class="nv">XFAR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">450</span>.<span class="w"> </span><span class="c1"># km # distance from epicenter beyond which the distance weighting is 0</span>
<span class="c1"># MANDATORY</span>
<span class="nv">POS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>.76<span class="w">  </span><span class="c1"># ratio of P-velocity to S-velocity</span>

<span class="nv">KAZ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w">      </span><span class="c1"># 1 or blank # apply azimuthal weighting of stations ?</span>
<span class="nv">KSORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w">    </span><span class="c1"># 1 or blank # sort stations by distance in the output ?</span>

<span class="c1"># Use the position obtained from the best ZTR value ?</span>
<span class="nv">USE_TRIAL_POSITION</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>


<span class="c1">####################</span>
<span class="c1"># Instruction Card #</span>
<span class="c1">####################</span>
<span class="nv">KNST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="c1"># use S data ?</span>
<span class="nv">INST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="c1"># fix depth ?</span>

<span class="c1">#####################################</span>
<span class="c1"># Optionnal Weighting Look-Up Table #</span>
<span class="c1">#####################################</span>
<span class="c1"># Uncomment if you want to disable dynamic weighting and use those uncertainties as</span>
<span class="c1"># boundaries for weighting (e.g. a pick with +-0.02 will have a weight of 0)</span>
<span class="c1">#WEIGHT_UNCERTAINTY_BOUNDARIES = 0.1, 0.2, 0.5, 1.0</span>
</pre></div>
</div>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<section id="locator">
<h3>Locator<a class="headerlink" href="#locator" title="Permalink to this heading">¶</a></h3>
<p>The usage of the new Hypo71 plugin is straight forward. Once loaded successfully
the new locator shows up in the lower left corners combo box.</p>
<figure class="align-center">
<img alt="../_images/locator_selection_small.png" src="../_images/locator_selection_small.png" />
</figure>
<p>Select the new Hypo71 locator and a profile from the pre-configured list.</p>
<figure class="align-center">
<img alt="../_images/locator_profile_selection_small.png" src="../_images/locator_profile_selection_small.png" />
</figure>
<p>The Hypo71 implementation doesn’t provide a virtual profile automatically but the
plugins ships with some example profiles.</p>
<p>If an origin has been relocated the method should be set to “Hypo71” and
the earth model contains the name of the profile used to perform this localization.</p>
<figure class="align-center">
<img alt="../_images/origin_information.png" src="../_images/origin_information.png" />
</figure>
</section>
<section id="settings">
<h3>Settings<a class="headerlink" href="#settings" title="Permalink to this heading">¶</a></h3>
<p>The Hypo71 locator implementation supports to override configured settings or
control parameters for a session. Those changes are not persistent and lost if
the locator is changed to another one or the profile has been changed.</p>
<p>To open the settings dialog press the button right to the locator selection
combo box.</p>
<figure class="align-center">
<img alt="../_images/locator_settings.png" src="../_images/locator_settings.png" />
</figure>
<p>Then the Hypo71 selected profile parameters show up.</p>
<figure class="align-center">
<img alt="../_images/hypo71_settings.png" src="../_images/hypo71_settings.png" />
</figure>
</section>
</section>
<section id="more">
<h2>More<a class="headerlink" href="#more" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Take a look at Fred Klein HYPOINVERSE Earthquake Location software (<span id="id4">Klein [<a class="reference internal" href="../base/references.html#id47" title="F.W. Klein. User’s guide to HYPOINVERSE-2000, a Fortran program to solve for earthquake locations and magnitudes. US Geological Survey, 2002-171:, 2002. URL: https://www.usgs.gov/node/279394, doi:10.3133/ofr02171.">47</a>]</span>),</p></li>
<li><p>Hypo71PC original manual and binary are available on USGS website (<span id="id5">Lee and Lahr [<a class="reference internal" href="../base/references.html#id51" title="W.H. Lee and J.C. Lahr. Hypo71 (revised): a computer program for determining local earthquake hypocentral parameters, magnitude, and first motion pattern of local earthquakes. US Geol. Survey Open-file Report 75-311, 1975. URL: https://pubs.er.usgs.gov/publication/ofr75311, doi:10.3133/ofr75311.">48</a>]</span>).</p></li>
</ul>
</section>
<section id="module-configuration">
<span id="global-hypo71-configuration"></span><h2>Module Configuration<a class="headerlink" href="#module-configuration" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>hypo71.*</strong>
<em>General Hypo71 configuration parameters.</em></p>
</div>
<dl class="std confval">
<dt class="sig sig-object std" id="confval-hypo71.logFile">
<span class="sig-name descname"><span class="pre">hypo71.logFile</span></span><a class="headerlink" href="#confval-hypo71.logFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Default: <code class="docutils literal notranslate"><span class="pre">&#64;LOGDIR&#64;/HYPO71.LOG</span></code></p>
<p>Type: <em>string</em></p>
<p>Temporary file used by Hypo71 to store calculation logs.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-hypo71.inputFile">
<span class="sig-name descname"><span class="pre">hypo71.inputFile</span></span><a class="headerlink" href="#confval-hypo71.inputFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Default: <code class="docutils literal notranslate"><span class="pre">&#64;DATADIR&#64;/hypo71/HYPO71.INP</span></code></p>
<p>Type: <em>string</em></p>
<p>Temporary file to write Hypo71 input data to.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-hypo71.outputFile">
<span class="sig-name descname"><span class="pre">hypo71.outputFile</span></span><a class="headerlink" href="#confval-hypo71.outputFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Default: <code class="docutils literal notranslate"><span class="pre">&#64;DATADIR&#64;/hypo71/HYPO71.PRT</span></code></p>
<p>Type: <em>string</em></p>
<p>Temporary output file to read Hypo71 location data from.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-hypo71.defaultControlFile">
<span class="sig-name descname"><span class="pre">hypo71.defaultControlFile</span></span><a class="headerlink" href="#confval-hypo71.defaultControlFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Default: <code class="docutils literal notranslate"><span class="pre">&#64;DATADIR&#64;/hypo71/profiles/default.hypo71.conf</span></code></p>
<p>Type: <em>string</em></p>
<p>Hypo71 default profile.
If no custom profile is specified, this profile will be used by the plugin when proceeding to a localization.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-hypo71.hypo71ScriptFile">
<span class="sig-name descname"><span class="pre">hypo71.hypo71ScriptFile</span></span><a class="headerlink" href="#confval-hypo71.hypo71ScriptFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Default: <code class="docutils literal notranslate"><span class="pre">&#64;DATADIR&#64;/hypo71/run.sh</span></code></p>
<p>Type: <em>string</em></p>
<p>Bash script executed when calling the Hypo71 locator plugin for locating the earthquake.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-hypo71.profiles">
<span class="sig-name descname"><span class="pre">hypo71.profiles</span></span><a class="headerlink" href="#confval-hypo71.profiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>list:string</em></p>
<p>Hypo71 profile name.
Multiples names may be set. They must be separated by comma.
Each profile can have different velocity or parameters.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-hypo71.publicID">
<span class="sig-name descname"><span class="pre">hypo71.publicID</span></span><a class="headerlink" href="#confval-hypo71.publicID" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>string</em></p>
<p>Custom patternID to use when generating origin publicID</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-hypo71.useHypo71PatternID">
<span class="sig-name descname"><span class="pre">hypo71.useHypo71PatternID</span></span><a class="headerlink" href="#confval-hypo71.useHypo71PatternID" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>boolean</em></p>
<p>Specifies if the given publicD should be used for generating origin publicID</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>hypo71.profile.*</strong>
<em>Profiles containing the profile-specific velocity model and the Hypo71 parameters.</em></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>hypo71.profile.$name.*</strong>
$name is a placeholder for the name to be used and needs to be added to <a class="reference internal" href="#confval-hypo71.profiles"><code class="xref std std-confval docutils literal notranslate"><span class="pre">hypo71.profiles</span></code></a> to become active.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>hypo71.profiles<span class="w"> </span><span class="o">=</span><span class="w"> </span>a,b
hypo71.profile.a.value1<span class="w"> </span><span class="o">=</span><span class="w"> </span>...
hypo71.profile.b.value1<span class="w"> </span><span class="o">=</span><span class="w"> </span>...
<span class="c1"># c is not active because it has not been added</span>
<span class="c1"># to the list of hypo71.profiles</span>
hypo71.profile.c.value1<span class="w"> </span><span class="o">=</span><span class="w"> </span>...
</pre></div>
</div>
</div>
<dl class="std confval">
<dt class="sig sig-object std" id="confval-hypo71.profile.-name.earthModelID">
<span class="sig-name descname"><span class="pre">hypo71.profile.$name.earthModelID</span></span><a class="headerlink" href="#confval-hypo71.profile.-name.earthModelID" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>string</em></p>
<p>Profile’s velocity model name.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-hypo71.profile.-name.methodID">
<span class="sig-name descname"><span class="pre">hypo71.profile.$name.methodID</span></span><a class="headerlink" href="#confval-hypo71.profile.-name.methodID" title="Permalink to this definition">¶</a></dt>
<dd><p>Default: <code class="docutils literal notranslate"><span class="pre">Hypo71</span></code></p>
<p>Type: <em>string</em></p>
<p>Profile’s method.
It is generally the locator’s name (Hypo71).</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-hypo71.profile.-name.controlFile">
<span class="sig-name descname"><span class="pre">hypo71.profile.$name.controlFile</span></span><a class="headerlink" href="#confval-hypo71.profile.-name.controlFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Type: <em>string</em></p>
<p>File containing the profile parameters.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-hypo71.profile.-name.fixStartDepthOnly">
<span class="sig-name descname"><span class="pre">hypo71.profile.$name.fixStartDepthOnly</span></span><a class="headerlink" href="#confval-hypo71.profile.-name.fixStartDepthOnly" title="Permalink to this definition">¶</a></dt>
<dd><p>Default: <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
<p>Type: <em>boolean</em></p>
<p>If the depth is requested to be fixed (e.g. by ticking the option
in scolv) the plugin performs only one location starting at
specified depth but with free depth evaluation. This option
defines whether it should really fix the depth (false) or
use this fixed depth only as starting point (true).</p>
</dd></dl>

</section>
</section>


          <div id="anchors-bottom"></div>
        </div>
        
      <div class="sidebar" role="navigation" aria-label="main navigation">
        <div id="anchors-top"></div>
        <div id="anchors" class="content">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Hypo71</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#how-it-works">How it works</a></li>
<li><a class="reference internal" href="#profiles">Profiles</a></li>
<li><a class="reference internal" href="#error-measures">Error measures</a></li>
<li><a class="reference internal" href="#plugin">Plugin</a></li>
<li><a class="reference internal" href="#output">Output</a></li>
<li><a class="reference internal" href="#configuration-example">Configuration example</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#locator">Locator</a></li>
<li><a class="reference internal" href="#settings">Settings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#more">More</a></li>
<li><a class="reference internal" href="#module-configuration">Module Configuration</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="global_mlh.html"
                          title="previous chapter">MLh</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="global_md.html"
                          title="next chapter">Md</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/apps/global_hypo71.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      </div>
    </div>
    <div class="footer">
      <div class="container">
        <div class="horizontal layout content">
        <a class="fade-in" href="https://www.gempa.de" target="_blank">
          <img class="brand" src="../_static/brands/gempa.svg"/>
        </a>
        <div class="stretched align-center fitted content">
          <div>
		  Version <b>5.5.11</b> Release
          </div>
            <div class="copyright">
              Copyright &copy; gempa GmbH, GFZ Potsdam.
            </div>
        </div>
        <a class="fade-in" href="https://www.gfz-potsdam.de" target="_blank">
          <img class="brand" src="../_static/brands/gfz.svg"/>
        </a>
        </div>
      </div>
    </div>
  </body>
</html>